(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{379:function(e,t,r){var content=r(386);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("50994110",content,!0,{sourceMap:!1})},385:function(e,t,r){"use strict";r(379)},386:function(e,t,r){var n=r(22)(!1);n.push([e.i,".camera-box[data-v-390e23ad]{border:1px dashed;border-radius:4px;padding:8px;min-height:300px}",""]),e.exports=n},387:function(e,t,r){"use strict";r.r(t);var n=r(383),o={name:"Camera",data:function(){return{isCameraOpen:!1,isCameraRecording:!1,canvasWidth:"100%",canvasHeight:"284",media_recorder:null,blobs_recorded:[],camera_stream:null,download_link:null,doneRecording:!1,player_link:null,img1:"",status:""}},props:{pname:{type:String,default:"Parent"},sname:{type:String,default:"Student"}},computed:{firename:function(){var e=Date.now();return new Date(e).toUTCString()+" "+this.pname+" - "+this.sname}},methods:{toggleRecording:function(){this.isCameraRecording?(this.isCameraRecording=!1,this.stopRec()):(this.isCameraRecording=!0,this.startRec())},startCam:function(){var e=this;this.isCameraOpen=!0;var t=window.constraints={audio:!0,video:!0};navigator.mediaDevices.getUserMedia(t).then((function(t){e.camera_stream=t,e.$refs.camera.srcObject=t})).catch((function(e){alert("Browser does not support or there was an error"+e)})),this.status="Ready"},startRec:function(){var e=this;this.startCam(),this.status="Recording",this.media_recorder=new MediaRecorder(this.camera_stream,{mimeType:"video/webm"}),this.doneRecording=!1,this.media_recorder.addEventListener("dataavailable",(function(t){e.blobs_recorded.push(t.data)})),this.media_recorder.addEventListener("stop",(function(){e.player_link=window.webkitURL.createObjectURL(new Blob(e.blobs_recorded,{type:"video/webm"}))})),this.media_recorder.start(1e3)},pauseRec:function(){this.status="Paused",this.media_recorder.pause()},resumeRec:function(){this.status="Resumed",this.media_recorder.resume()},stopRec:function(){this.status="Stopped",this.media_recorder.stop(),this.doneRecording=!0},onUpload:function(){var e=this;this.$emit("loading");var t=Object(n.a)(),r=Object(n.b)(t,this.firename),o=new File(this.blobs_recorded,"file",{type:"video/mp4"});Object(n.c)(r,o).then((function(t){console.log("Uploaded a blob or file!"),e.$emit("updone")}))}}},d=(r(385),r(84)),c=r(117),l=r.n(c),h=r(250),m=r(176),component=Object(d.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v(e._s(e.status))]),r("div",{staticClass:"camera-box"},[e.doneRecording?r("div",{staticClass:"text-center",staticStyle:{height:"200px"}},[r("div",[r("video",{attrs:{controls:"",disablePictureInPicture:"",width:e.canvasWidth,height:e.canvasHeight}},[r("source",{attrs:{src:e.player_link,type:"video/webm"}})])])]):r("div",{staticClass:"text-center",staticStyle:{height:"200px"}},[e.isCameraOpen?r("div",{staticClass:"camera-canvas"},[r("video",{ref:"camera",attrs:{disablePictureInPicture:"",width:e.canvasWidth,height:e.canvasHeight,autoplay:"",muted:""},domProps:{muted:!0}}),r("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{id:"photoTaken",width:e.canvasWidth,height:e.canvasHeight}})]):r("v-icon",{staticClass:"mt-8 button-img camera-shoot",staticStyle:{height:"25px"}},[e._v("mdi-camera")])],1)]),r("div",{staticClass:"text-center mt-6"},[e.doneRecording?r("v-btn",{staticClass:"white--text",attrs:{large:""},on:{click:function(t){return e.onUpload()}}},[r("v-icon",[e._v("mdi-upload")]),e._v("Upload")],1):e._e()],1)])}),[],!1,null,"390e23ad",null);t.default=component.exports;l()(component,{VBtn:h.a,VIcon:m.a})},390:function(e,t,r){var content=r(411);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("21784766",content,!0,{sourceMap:!1})},410:function(e,t,r){"use strict";r(390)},411:function(e,t,r){var n=r(22)(!1);n.push([e.i,".wrapper[data-v-837afbde]{position:relative;padding-bottom:56.25%;height:0}.wrapper iframe[data-v-837afbde]{position:absolute;top:0;left:0;width:100%;height:100%}",""]),e.exports=n},448:function(e,t,r){"use strict";r.r(t);var n={head:function(){return{title:"Engauge Demo"}},data:function(){return{preview:!0,testingCamera:!1,started:!1,parentName:null,studentName:null,loading:!1,uploaded:!1}},components:{Camera:r(387).default},created:function(){},methods:{ready:function(){this.$refs.camera.startCam()},start:function(){this.started=!0,this.$refs.camera.startRec()},pause:function(){this.$refs.camera.pauseRec()},resume:function(){this.$refs.camera.resumeRec()},stop:function(){this.started=!1,this.$refs.camera.stopRec(),this.$refs.youtube.player.stopVideo()}}},o=(r(410),r(84)),d=r(117),c=r.n(d),l=r(250),h=r(441),m=r(442),v=r(446),f=r(175),w=r(443),_=r(445),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.testingCamera?r("div",[r("Camera")],1):r("div",[e.preview?r("v-row",{staticClass:"fill-height pa-10",attrs:{justify:"center",align:"center"}},[r("div",{staticClass:"pt-10 mx-15"},[r("h1",[e._v("Welcome! ")]),r("p",[e._v("Thank you for taking the time to participate in our research. Before we start, please take the time to read the guidelines and to follow them as best as you can. This will ensure us the best output as we aim to meet the ideal conditions for the research. ")]),r("br"),r("h3",[e._v("Guidelines:")]),r("ol",[r("li",[e._v("Please record in a well-lit room.")]),r("li",[e._v("Make sure that the webcam is in front of the child, and the whole face is visible. ")]),r("li",[e._v("Allow the browser access to the microphone. This will be used to sync the video and the facial response.")]),r("li",[e._v("Allow the browser access to the webcam.")]),r("li",[e._v("Click the red button (start recording) before playing the youtube video")]),r("li",[e._v("The data gathered will be used for our study "),r("b",[e._v("AND ONLY FOR THE STUDY. ")])]),r("li",[e._v("The child may opt to stop watching at anytime. The child also has the right to withdraw from the study.")]),r("li",[e._v("For more details, you may see our "),r("NuxtLink",{attrs:{to:"/about"}},[e._v("About Page.")])],1)]),r("br"),r("br"),r("v-col",{staticClass:"px-0",attrs:{cols:"6"}},[r("v-text-field",{attrs:{placeholder:"Parent Name","hide-details":""},model:{value:e.parentName,callback:function(t){e.parentName=t},expression:"parentName"}}),r("v-text-field",{attrs:{placeholder:"Student Name","hide-details":""},model:{value:e.studentName,callback:function(t){e.studentName=t},expression:"studentName"}})],1),r("br"),r("v-btn",{staticClass:"black--text",attrs:{disabled:!e.parentName||!e.studentName,color:"white"},on:{click:function(t){e.preview=!1}}},[e._v("I understand")])],1)]):r("v-row",{staticClass:"pa-5"},[r("v-col",[r("youtube",{ref:"youtube",staticClass:"iframe-class",attrs:{width:"100%",height:"600","video-id":"eb0Dpsziy_k"},on:{playing:function(t){e.started?e.resume():e.start()},paused:function(t){e.started&&e.pause()},ended:function(t){return e.stop()},ready:function(t){return e.ready()}}}),e.started?r("v-btn",{staticClass:"mt-4",attrs:{"x-large":""},on:{click:function(t){return e.stop()}}},[e._v("End Recording")]):e._e()],1),r("v-col",{attrs:{cols:"4"}},[r("Camera",{ref:"camera",attrs:{pname:e.parentName,sname:e.studentName},on:{loading:function(t){e.loading=!0},updone:function(t){e.uploaded=!0}}})],1)],1)],1),r("v-dialog",{attrs:{persistent:"",width:"30%"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[r("v-card",{staticClass:"rounded-lg pa-8 text-center"},[e.uploaded?r("h3",[e._v("Done! Thank you for participating!")]):r("h3",[e._v("Video uploading. Please do not exit")]),r("br"),e.uploaded?r("v-btn",{on:{click:function(t){e.loading=!1}}},[e._v("Close")]):r("v-progress-circular",{attrs:{indeterminate:"",color:"white"}})],1)],1)],1)}),[],!1,null,"837afbde",null);t.default=component.exports;c()(component,{Camera:r(387).default}),c()(component,{VBtn:l.a,VCard:h.a,VCol:m.a,VDialog:v.a,VProgressCircular:f.a,VRow:w.a,VTextField:_.a})}}]);