(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{379:function(e,t,r){var content=r(386);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(23).default)("50994110",content,!0,{sourceMap:!1})},383:function(e,t,r){"use strict";var n=r(376);r.d(t,"a",(function(){return n.o})),r.d(t,"b",(function(){return n.r})),r.d(t,"c",(function(){return n.t}))},385:function(e,t,r){"use strict";r(379)},386:function(e,t,r){var n=r(22)(!1);n.push([e.i,".camera-box[data-v-390e23ad]{border:1px dashed;border-radius:4px;padding:8px;min-height:300px}",""]),e.exports=n},387:function(e,t,r){"use strict";r.r(t);var n=r(383),o={name:"Camera",data:function(){return{isCameraOpen:!1,isCameraRecording:!1,canvasWidth:"100%",canvasHeight:"284",media_recorder:null,blobs_recorded:[],camera_stream:null,download_link:null,doneRecording:!1,player_link:null,img1:"",status:""}},props:{pname:{type:String,default:"Parent"},sname:{type:String,default:"Student"}},computed:{firename:function(){var e=Date.now();return new Date(e).toUTCString()+" "+this.pname+" - "+this.sname}},methods:{toggleRecording:function(){this.isCameraRecording?(this.isCameraRecording=!1,this.stopRec()):(this.isCameraRecording=!0,this.startRec())},startCam:function(){var e=this;this.isCameraOpen=!0;var t=window.constraints={audio:!0,video:!0};navigator.mediaDevices.getUserMedia(t).then((function(t){e.camera_stream=t,e.$refs.camera.srcObject=t})).catch((function(e){alert("Browser does not support or there was an error"+e)})),this.status="Ready"},startRec:function(){var e=this;this.startCam(),this.status="Recording",this.media_recorder=new MediaRecorder(this.camera_stream,{mimeType:"video/webm"}),this.doneRecording=!1,this.media_recorder.addEventListener("dataavailable",(function(t){e.blobs_recorded.push(t.data)})),this.media_recorder.addEventListener("stop",(function(){e.player_link=window.webkitURL.createObjectURL(new Blob(e.blobs_recorded,{type:"video/webm"}))})),this.media_recorder.start(1e3)},pauseRec:function(){this.status="Paused",this.media_recorder.pause()},resumeRec:function(){this.status="Resumed",this.media_recorder.resume()},stopRec:function(){this.status="Stopped",this.media_recorder.stop(),this.doneRecording=!0},onUpload:function(){var e=this;this.$emit("loading");var t=Object(n.a)(),r=Object(n.b)(t,this.firename),o=new File(this.blobs_recorded,"file",{type:"video/mp4"});Object(n.c)(r,o).then((function(t){console.log("Uploaded a blob or file!"),e.$emit("updone")}))}}},c=(r(385),r(84)),d=r(117),h=r.n(d),l=r(250),m=r(176),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v(e._s(e.status))]),r("div",{staticClass:"camera-box"},[e.doneRecording?r("div",{staticClass:"text-center",staticStyle:{height:"200px"}},[r("div",[r("video",{attrs:{controls:"",disablePictureInPicture:"",width:e.canvasWidth,height:e.canvasHeight}},[r("source",{attrs:{src:e.player_link,type:"video/webm"}})])])]):r("div",{staticClass:"text-center",staticStyle:{height:"200px"}},[e.isCameraOpen?r("div",{staticClass:"camera-canvas"},[r("video",{ref:"camera",attrs:{disablePictureInPicture:"",width:e.canvasWidth,height:e.canvasHeight,autoplay:"",muted:""},domProps:{muted:!0}}),r("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{id:"photoTaken",width:e.canvasWidth,height:e.canvasHeight}})]):r("v-icon",{staticClass:"mt-8 button-img camera-shoot",staticStyle:{height:"25px"}},[e._v("mdi-camera")])],1)]),r("div",{staticClass:"text-center mt-6"},[e.doneRecording?r("v-btn",{staticClass:"white--text",attrs:{large:""},on:{click:function(t){return e.onUpload()}}},[r("v-icon",[e._v("mdi-upload")]),e._v("Upload")],1):e._e()],1)])}),[],!1,null,"390e23ad",null);t.default=component.exports;h()(component,{VBtn:l.a,VIcon:m.a})}}]);